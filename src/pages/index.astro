---
import Layout from '@/layouts/Layout.astro';
import Briefcase from '@/components/icons/Briefcase.astro';
import Experience from '@/components/Experience.astro';
import SectionContainer from '@/components/SectionContainer.astro';
import Hero from '@/components/Hero.astro';
import type { Portafolio } from '@/data/model/manfred.interface';

const response = await fetch('https://raw.githubusercontent.com/hamelhmc/manfred/main/CV/MAC.json');
const data = await response.json();
const portafolio = data as Portafolio;

// SEO: Mejorar la descripción para meta tags
const aboutDescriptionParagraph = portafolio.aboutMe.profile.description
  .split('\n\n')
  .slice(0, 2)
  .join(' ')
  .substring(0, 160); // Limitar a 160 caracteres para meta description
---

<Layout
  title={`${portafolio.aboutMe.profile.name} ${portafolio.aboutMe.profile.surnames} - ${portafolio.aboutMe.profile.title.split('|')[0].trim()}`}
  description={aboutDescriptionParagraph}
  ogImageUrl={'/assets/images/profile.jpg'}
  aboutMe={portafolio.aboutMe}
  careerPreferences={portafolio.careerPreferences}>
  <section class="px-4 overflow-x-hidden">
    <SectionContainer class="py-16 md:py-36">
      <Hero aboutMe={portafolio.aboutMe} careerPreferences={portafolio.careerPreferences} />
    </SectionContainer>
  </section>
  <div class="space-y-16 pb-20 overflow-x-hidden">
    <SectionContainer id="experiencia">
      <!-- Header de sección estilo iOS -->
      <div class="max-w-4xl mx-auto mb-14">
        <div class="text-center md:text-left space-y-4">
          <!-- Título con icono -->
          <div class="flex items-center justify-center md:justify-start gap-4">
            <!-- Icono con animación de color continua -->
            <div class="flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 text-white shadow-2xl shadow-blue-500/30 bg-200% animate-gradient-shift">
              <Briefcase class="w-7 h-7" aria-hidden="true" />
            </div>
            <h2 class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300">
              Experiencia Laboral
            </h2>
          </div>

          <!-- Subtítulo -->
          <p class="text-lg md:text-xl text-gray-600 dark:text-gray-400 font-medium">
            Mi trayectoria profesional y proyectos destacados
          </p>
        </div>
      </div>

      <!-- Componente de experiencia -->
      <Experience experience={portafolio.experience} />
    </SectionContainer>

    <!-- <SectionContainer id="proyectos">
      <h2 class="flex items-center mb-6 text-3xl font-semibold gap-x-3 text-black/80 dark:text-white">
        <CodeIcon class="size-7" />
        Proyectos
      </h2>
      <Projects />
    </SectionContainer> -->

    <!-- <SectionContainer id="sobre-mi">
      <h2 class="flex items-center mb-6 text-3xl font-semibold gap-x-8 text-black/80 dark:text-white">
        <ProfileCheck class="size-8" />
        Sobre mí
      </h2>
      <AboutMe />
    </SectionContainer> -->
  </div>
</Layout>
