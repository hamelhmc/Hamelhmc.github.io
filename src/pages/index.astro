---
import Layout from '@/layouts/Layout.astro';
import Briefcase from '@/components/icons/Briefcase.astro';
import Experience from '@/components/Experience.astro';
import SectionContainer from '@/components/SectionContainer.astro';
import Hero from '@/components/Hero.astro';
import type { Portafolio } from '@/data/model/manfred.interface';

const response = await fetch('https://raw.githubusercontent.com/hamelhmc/manfred/main/CV/MAC.json');
const data = await response.json();
const portafolio = data as Portafolio;

const aboutDescriptionParagraph = portafolio.aboutMe.profile.description.split('\n\n')[0];
---

<Layout
  title={`${portafolio.aboutMe.profile.name} - ${portafolio.aboutMe.profile.title}`}
  description={`${aboutDescriptionParagraph}`}
  ogImageUrl={'/assets/images/profile.png'}
  aboutMe={portafolio.aboutMe}
  careerPreferences={portafolio.careerPreferences}>
  <main class="px-4">
    <SectionContainer class="py-16 md:py-36">
      <Hero aboutMe={portafolio.aboutMe} careerPreferences={portafolio.careerPreferences} />
    </SectionContainer>
  </main>
  <div class="space-y-24">
    <SectionContainer id="experiencia">
      <h2 class="flex items-center mb-6 text-3xl font-semibold gap-x-3 text-black/80 dark:text-white">
        <Briefcase class="size-8" />
        Experiencia laboral
      </h2>
      <Experience experience={portafolio.experience} />
    </SectionContainer>

    <!-- <SectionContainer id="proyectos">
      <h2 class="flex items-center mb-6 text-3xl font-semibold gap-x-3 text-black/80 dark:text-white">
        <CodeIcon class="size-7" />
        Proyectos
      </h2>
      <Projects />
    </SectionContainer> -->

    <!-- <SectionContainer id="sobre-mi">
      <h2 class="flex items-center mb-6 text-3xl font-semibold gap-x-8 text-black/80 dark:text-white">
        <ProfileCheck class="size-8" />
        Sobre m√≠
      </h2>
      <AboutMe />
    </SectionContainer> -->
  </div>
</Layout>

<script>
  const response = await fetch('https://raw.githubusercontent.com/hamelhmc/manfred/main/CV/MAC.json');
  const data = await response.json();
  const portafolio = data;
  console.log('üêõ ‚ûú portafolio‚ûú', portafolio);
</script>
